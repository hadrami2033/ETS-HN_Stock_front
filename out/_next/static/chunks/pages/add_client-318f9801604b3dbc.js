(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[248],{27399:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/add_client",function(){return t(12825)}])},12825:function(n,e,t){"use strict";t.r(e);var r=t(85893),i=t(67294),o=t(86886),a=t(26447),u=t(83321),l=t(98456),s=t(31122),c=t(67799),p=t(28309),f=t(58560);function d(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function h(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){d(n,e,t[e])}))}return n}function m(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=[],r=!0,i=!1,o=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done)&&(t.push(a.value),!e||t.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return t}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var y={stack:{display:"flex",justifyContent:"center",marginBottom:10}};e.default=function(n){var e=n.client,t=n.push,d=n.update,b=n.showSuccessToast,x=n.showFailedToast,g=null===e?{name:"",phone:"",nni:"",prixUnitaire:"",solde:0}:e,v=(0,i.useState)(g),j=v[0],w=(v[1],m(i.useState(!1),2)),_=w[0],Z=w[1],O=function(n){var e=void 0===n?S:n,t=h({},k);if("name"in e&&(t.name=e.name?"":"\u0627\u0644\u0625\u0633\u0645 \u0645\u0637\u0644\u0648\u0628"),"phone"in e&&(t.phone=/^[234][\d]{7}$/.test(e.phone)?"":"\u0627\u0644\u0631\u0642\u0645 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d"),"prixUnitaire"in e&&(t.prixUnitaire=e.prixUnitaire.toString().length>2?"":"\u0627\u0644\u0645\u0628\u0644\u063a \u0645\u0637\u0644\u0648\u0628"),E(h({},t)),e==S)return Object.values(t).every((function(n){return""==n}))},C=(0,p.c)(j,!0,O),S=C.values,k=(C.setValues,C.errors),E=C.setErrors,I=C.handleInputChange,P=C.resetForm;return(0,r.jsx)("form",{onSubmit:function(n){n.preventDefault(),O()&&(Z(!0),console.log(S),null===e?c.Z.addClient(S).then((function(n){console.log("added => ",n),n.data?(t(n.data),P(),b()):x()}),(function(n){console.log(n),x()})).then((function(){Z(!1)})):c.Z.updateClient(S).then((function(n){console.log("updated => ",n),n.data?(d(S),b()):x()}),(function(n){console.log(n),x()})).then((function(){Z(!1)})))},children:(0,r.jsx)(o.ZP,{item:!0,xs:12,lg:12,alignItems:"center",justify:"center",children:S&&(0,r.jsxs)(s.Z,{title:"\u0625\u0636\u0627\u0641\u0629 \u0632\u0628\u0648\u0646",children:[(0,r.jsxs)(a.Z,{style:y.stack,spacing:10,direction:"row",children:[(0,r.jsx)(f.Z.Input,{id:"name-input",name:"name",label:"\u0627\u0644\u0625\u0633\u0645",type:"text",value:S.name,onChange:I,error:k.name}),(0,r.jsx)(f.Z.Input,{id:"phone-input",name:"phone",label:"\u0627\u0644\u0647\u0627\u062a\u0641",type:"number",value:S.phone,onChange:I,error:k.phone})]}),(0,r.jsxs)(a.Z,{style:y.stack,spacing:10,direction:"row",children:[(0,r.jsx)(f.Z.Input,{id:"nni-input",name:"nni",label:"\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u062a\u0639\u0631\u064a\u0641",type:"number",value:S.nni,onChange:I,error:k.nni}),(0,r.jsx)(f.Z.Input,{id:"price-input",name:"prixUnitaire",label:"\u0633\u0639\u0631 \u0627\u0644\u0631\u0642\u0645",type:"number",value:S.prixUnitaire,onChange:I,error:k.prixUnitaire})]}),(0,r.jsx)("br",{}),(0,r.jsxs)(u.Z,{type:"submit",style:{fontSize:"25px"},variant:"contained",disabled:_,mt:4,children:["\u062d\u0641\u0638 \u0627\u0644\u0632\u0628\u0648\u0646",_&&(0,r.jsx)(l.Z,{size:24,sx:{color:"primary",position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-12px"}})]})]})})})}}},function(n){n.O(0,[774,888,179],(function(){return e=27399,n(n.s=e);var e}));var e=n.O();_N_E=e}]);