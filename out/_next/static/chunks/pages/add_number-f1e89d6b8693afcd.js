(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[239],{53082:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/add_number",function(){return t(52062)}])},52062:function(e,n,t){"use strict";t.r(n);var r=t(85893),o=t(67294),u=t(86886),s=t(26447),i=t(83321),a=t(98456),l=t(31122),c=t(67799),f=t(11163),d=t(28309),p=t(58560);function h(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){h(e,n,t[n])}))}return e}function y(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,o=!1,u=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(a){o=!0,u=a}finally{try{r||null==i.return||i.return()}finally{if(o)throw u}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var m={stack:{display:"flex",justifyContent:"center",marginBottom:10}};n.default=function(e){var n=e.number,t=e.push,h=(e.update,e.showSuccessToast),v=e.showFailedToast,g=n,j=(0,o.useState)(g),w=j[0],x=(j[1],(0,o.useState)([])),_=x[0],O=x[1],I=y(o.useState(!1),2),S=I[0],E=I[1],Z=((0,f.useRouter)(),function(e){var n=void 0===e?P:e,t=b({},C);if("phone"in n&&(t.phone=/^[234][\d]{7}$/.test(n.phone)?"":"\u0627\u0644\u0631\u0642\u0645 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d"),"fournisseurId"in n&&(t.fournisseurId=null!=n.fournisseurId?"":"\u0627\u0644\u0645\u0648\u0631\u062f \u0645\u0637\u0644\u0648\u0628"),N(b({},t)),n==P)return Object.values(t).every((function(e){return""==e}))}),k=(0,d.c)(w,!0,Z),P=k.values,C=(k.setValues,k.errors),N=k.setErrors,T=k.handleInputChange,F=k.resetForm;o.useEffect((function(){c.Z.getFournisseurs(1,50,"").then((function(e){console.log(e.data),O(e.data.result)}),(function(e){return console.log(e)}))}),[]);return(0,r.jsx)("form",{onSubmit:function(e){e.preventDefault(),Z()&&(console.log(P),E(!0),c.Z.addNumber(P).then((function(e){console.log("added => ",e),e.data?(t(e.data),h()):v(),F()}),(function(e){console.log("add error => ",e),v()})).then((function(){E(!1)})))},children:(0,r.jsx)(u.ZP,{item:!0,xs:12,lg:12,alignItems:"center",justify:"center",children:P&&(0,r.jsxs)(l.Z,{title:"\u0625\u0636\u0627\u0641\u0629 \u0631\u0642\u0645",children:[(0,r.jsxs)(s.Z,{style:m.stack,spacing:10,direction:"row",children:[(0,r.jsx)(p.Z.Input,{id:"phone-input",name:"phone",label:"\u0627\u0644\u0647\u0627\u062a\u0641",type:"number",value:P.phone,onChange:T,error:C.phone}),(0,r.jsx)(p.Z.Select,{name:"fournisseurId",label:"\u0627\u0644\u0645\u0648\u0631\u062f",value:P.fournisseurId,onChange:T,options:_,error:C.fournisseurId})]}),(0,r.jsx)("br",{}),(0,r.jsxs)(i.Z,{type:"submit",style:{fontSize:"25px"},variant:"contained",disabled:S,mt:4,children:["\u062d\u0641\u0638 \u0627\u0644\u0631\u0642\u0645",S&&(0,r.jsx)(a.Z,{size:24,sx:{color:"primary",position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-12px"}})]})]})})})}}},function(e){e.O(0,[774,888,179],(function(){return n=53082,e(e.s=n);var n}));var n=e.O();_N_E=n}]);