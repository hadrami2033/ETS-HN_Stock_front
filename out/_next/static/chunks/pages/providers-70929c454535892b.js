(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{94669:function(e,n,t){"use strict";var i=t(88169),r=t(85893);n.Z=(0,i.Z)((0,r.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack")},77331:function(e,n,t){"use strict";var i=t(88169),r=t(85893);n.Z=(0,i.Z)((0,r.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward")},16895:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/providers",function(){return t(38959)}])},47294:function(e,n,t){"use strict";t.r(n);var i=t(85893),r=t(67294),o=t(86886),l=t(26447),a=t(83321),s=t(98456),c=t(31122),u=t(67799),d=(t(11163),t(28309)),f=t(58560);function h(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){h(e,n,t[n])}))}return e}function x(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],i=!0,r=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(i=(l=a.next()).done)&&(t.push(l.value),!n||t.length!==n);i=!0);}catch(s){r=!0,o=s}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var g={stack:{display:"flex",justifyContent:"center",marginBottom:10}};n.default=function(e){var n=e.provider,t=e.push,h=e.update,y=e.showSuccessToast,j=e.showFailedToast,m=null===n?{name:"",phone:"",nni:"",prixUnitaire:"",solde:0}:n,b=x(r.useState(!1),2),v=b[0],Z=b[1],S=(0,r.useState)(m),w=S[0],C=(S[1],function(e){var n=void 0===e?O:e,t=p({},P);if("name"in n&&(t.name=n.name?"":"\u0627\u0644\u0625\u0633\u0645 \u0645\u0637\u0644\u0648\u0628"),"phone"in n&&(t.phone=/^[234][\d]{7}$/.test(n.phone)?"":"\u0627\u0644\u0631\u0642\u0645 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d"),"prixUnitaire"in n&&(t.prixUnitaire=n.prixUnitaire.toString().length>2?"":"\u0627\u0644\u0645\u0628\u0644\u063a \u0645\u0637\u0644\u0648\u0628"),T(p({},t)),n==O)return Object.values(t).every((function(e){return""==e}))}),k=(0,d.c)(w,!0,C),O=k.values,P=(k.setValues,k.errors),T=k.setErrors,I=k.handleInputChange,z=k.resetForm;return(0,i.jsx)("form",{onSubmit:function(e){e.preventDefault(),C()&&(Z(!0),console.log(O),null===n?u.Z.addFournisseur(O).then((function(e){console.log("added => ",e),e.data?(t(e.data),y(),z()):j()}),(function(e){console.log(e),j()})).then((function(){Z(!1)})):u.Z.updateFournisseur(O).then((function(e){console.log("updated => ",e),e.data?(h(O),y()):j()}),(function(e){console.log(e),j()})).then((function(){Z(!1)})))},children:(0,i.jsx)(o.ZP,{item:!0,xs:12,lg:12,alignItems:"center",justify:"center",children:O&&(0,i.jsxs)(c.Z,{title:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0648\u0631\u062f",children:[(0,i.jsxs)(l.Z,{style:g.stack,spacing:10,direction:"row",children:[(0,i.jsx)(f.Z.Input,{id:"name-input",name:"name",label:"\u0627\u0644\u0625\u0633\u0645",type:"text",value:O.name,onChange:I,error:P.name}),(0,i.jsx)(f.Z.Input,{id:"phone-input",name:"phone",label:"\u0627\u0644\u0647\u0627\u062a\u0641",type:"number",value:O.phone,onChange:I,error:P.phone})]}),(0,i.jsxs)(l.Z,{style:g.stack,spacing:10,direction:"row",children:[(0,i.jsx)(f.Z.Input,{id:"nni-input",name:"nni",label:"\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u062a\u0639\u0631\u064a\u0641",type:"number",value:O.nni,onChange:I,error:P.nni}),(0,i.jsx)(f.Z.Input,{id:"price-input",name:"prixUnitaire",label:"\u0633\u0639\u0631 \u0627\u0644\u0631\u0642\u0645",type:"number",value:O.prixUnitaire,onChange:I,error:P.prixUnitaire})]}),(0,i.jsx)("br",{}),(0,i.jsxs)(a.Z,{type:"submit",style:{fontSize:"25px"},variant:"contained",mt:4,disabled:v,children:["\u062d\u0641\u0638 \u0627\u0644\u0645\u0648\u0631\u062f",v&&(0,i.jsx)(s.Z,{size:24,sx:{color:"primary",position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-12px"}})]})]})})})}},38959:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return G}});var i=t(85893),r=t(90417),o=t(21737),l=t(83321),a=t(79172),s=t(98456),c=t(33290),u=t(18972),d=t(31122),f=t(67294),h=t(45697),p=t.n(h),x=t(7906),g=t(295),y=t(98102),j=t(72882),m=t(53816),b=t(55113),v=t(85071),Z=t(93946),S=t(80435),w=t(93709),C=t(67799),k=t(50657),O=t(31425),P=t(6514),T=t(58951),I=t(37645),z=t(47294),E=t(95537),F=t(94669),_=t(77331),D=t(61193),U=t.n(D),N=t(10315),q=t(11163);function A(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function R(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){A(e,n,t[n])}))}return e}function L(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],i=!0,r=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(i=(l=a.next()).done)&&(t.push(l.value),!n||t.length!==n);i=!0);}catch(s){r=!0,o=s}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function W(e,n,t){return n[t]<e[t]?-1:n[t]>e[t]?1:0}function B(e,n){return"desc"===e?function(e,t){return W(e,t,n)}:function(e,t){return-W(e,t,n)}}function H(e,n){var t=e.map((function(e,n){return[e,n]}));return t.sort((function(e,t){var i=n(e[0],t[0]);return 0!==i?i:e[1]-t[1]})),t.map((function(e){return e[0]}))}var M=[{id:"dateCreation",numeric:!1,disablePadding:!1,label:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"},{id:"prixUnitaire",numeric:!1,disablePadding:!0,label:"\u0627\u0644\u0633\u0639\u0631"},{id:"phone",numeric:!1,disablePadding:!1,label:"\u0627\u0644\u0647\u0627\u062a\u0641"},{id:"name",numeric:!1,disablePadding:!1,label:"\u0627\u0644\u0625\u0633\u0645"}];function G(){var e=L(f.useState("asc"),2),n=e[0],t=e[1],h=L(f.useState("calories"),2),p=h[0],D=h[1],A=L(f.useState(null),2),W=A[0],G=A[1],X=L(f.useState([]),2),V=X[0],Y=X[1],$=L(f.useState(""),2),J=$[0],K=$[1],Q=L(f.useState(!1),2),ee=Q[0],ne=Q[1],te=L(f.useState(!1),2),ie=te[0],re=te[1],oe=L(f.useState(!1),2),le=oe[0],ae=oe[1],se=L(f.useState(!1),2),ce=se[0],ue=se[1],de=L(f.useState(!1),2),fe=de[0],he=de[1],pe=L(f.useState(!1),2),xe=pe[0],ge=pe[1],ye=L(f.useState(1),2),je=ye[0],me=ye[1],be=L(f.useState(10),2),ve=be[0],Ze=be[1],Se=L(f.useState(0),2),we=Se[0],Ce=Se[1],ke=L(f.useState(0),2),Oe=ke[0],Pe=ke[1],Te=L(f.useState(""),2),Ie=Te[0],ze=Te[1],Ee=L(f.useState(!1),2),Fe=Ee[0],_e=Ee[1],De=L(f.useState(!1),2),Ue=De[0],Ne=De[1],qe=L(f.useState(!1),2),Ae=qe[0],Re=qe[1],Le=L(f.useState(0),2),We=Le[0],Be=Le[1],He=L(f.useState(0),2),Me=He[0],Ge=He[1],Xe=(0,q.useRouter)();f.useEffect((function(){_e(!0),C.Z.getFournisseurs(je,ve,Ie).then((function(e){console.log(e.data),Y(e.data.result),ge(e.data.nextPage),he(e.data.previousPage),Ce(e.data.TotalPages),Pe(e.data.TotalCount)}),(function(e){return console.log(e)})).then((function(){_e(!1)}))}),[je,ve,Ie,Ue]),f.useEffect((function(){localStorage.getItem("user")?Re(!0):Xe.push("/login")}),[]);var Ve,Ye=function(){ue(!0)},$e=function(){ae(!0)},Je=function(e,n){"clickaway"!==n&&ue(!1)},Ke=function(e,n){"clickaway"!==n&&ae(!1)},Qe=function(e){return console.log("idddd ",e),null!==W&&W.id===e},en=function(){ne(!0)},nn=function(e,n){"backdropClick"===n?console.log(n):ne(!1)},tn=function(){re(!1)},rn=function(){re(!0)};return(0,i.jsx)(i.Fragment,{children:Ae&&(0,i.jsxs)(d.Z,{title:"\u0644\u0627\u0626\u062d\u0629 \u0627\u0644\u0645\u0648\u0631\u062f\u064a\u0646",children:[(0,i.jsx)(r.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:le,autoHideDuration:6e3,onClose:Ke,children:(0,i.jsx)(o.Z,{onClose:Ke,severity:"success",sx:{width:"100%"},style:{fontSize:"24px",fontWeight:"bold"},children:"\u062a\u0645\u062a \u0627\u0644\u0639\u0645\u0644\u064a\u0629 \u0628\u0646\u062c\u0627\u062d"})}),(0,i.jsx)(r.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:ce,autoHideDuration:6e3,onClose:Je,children:(0,i.jsx)(o.Z,{onClose:Je,severity:"error",sx:{width:"100%"},style:{fontSize:"24px",fontWeight:"bold"},children:"\u0648\u0627\u062c\u0647\u062a\u0643 \u0645\u0634\u0643\u0644\u0629 ,\u0627\u0644\u0639\u0645\u0644\u064a\u0629 \u0644\u0645 \u062a\u062a\u0645"})}),(0,i.jsx)(k.Z,{open:ee,onClose:nn,children:(0,i.jsxs)(P.Z,{children:[(0,i.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,i.jsx)(Z.Z,{onClick:nn,children:(0,i.jsx)(E.Z,{fontSize:"large"})})}),(0,i.jsx)(z.default,{provider:W,push:function(e){V.push(e)},update:function(e){var n=V.findIndex((function(n){return n.id==e.id}));V[n]=e},showSuccessToast:$e,showFailedToast:Ye})]})}),(0,i.jsxs)(k.Z,{open:ie,onClose:tn,PaperComponent:function(e){return(0,i.jsx)(U(),{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]',children:(0,i.jsx)(b.Z,R({},e))})},"aria-labelledby":"draggable-dialog-title",children:[(0,i.jsx)(I.Z,{style:{cursor:"move",display:"flex",justifyContent:"end",fontSize:20},id:"draggable-dialog-title",children:"\u0639\u0645\u0644\u064a\u0629 \u062d\u0630\u0641"}),(0,i.jsx)(P.Z,{style:{width:300,display:"flex",justifyContent:"center"},children:(0,i.jsx)(T.Z,{children:"\u0627\u0644\u0631\u062c\u0627\u0621 \u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0639\u0645\u0644\u064a\u0629"})}),(0,i.jsxs)(O.Z,{children:[(0,i.jsx)(l.Z,{autoFocus:!0,onClick:tn,children:"\u0625\u0644\u063a\u0627\u0621"}),(0,i.jsx)(l.Z,{onClick:function(){null!==W&&C.Z.deleteFournisseur(W.id).then((function(e){console.log(e);var n=V.indexOf(W);V.splice(n,1),tn(),Ne(!Ue),G(null),$e()}),(function(e){console.log(e),Ye()}))},children:"\u062a\u0623\u0643\u064a\u062f"})]})]}),(0,i.jsx)(w.Z,{field:(Ve="name",null!==W?W[Ve]:""),selected:W,deleteClick:function(){console.log("delete => ",W),rn()},editClick:function(){console.log("edit => ",W),en()},listClick:function(){console.log("lister => ",W),Xe.push({pathname:"/providerNumbers",query:{name:W.name,id:W.id}})},onSearch:function(e){var n=e.target.value;K(n),""===n&&ze("")},search:J,goSearch:function(){console.log(J),ze(J)},openModal:en,allNumbrs:We,amount:Me}),(0,i.jsx)(j.Z,{children:Fe?(0,i.jsx)(a.Z,{style:{width:"100%",display:"flex",justifyContent:"center"},children:(0,i.jsx)(s.Z,{size:24,sx:{color:"primary",position:"absolute",marginTop:"-12px",marginLeft:"-12px"}})}):(0,i.jsx)(i.Fragment,{children:V.length>0?(0,i.jsxs)(x.Z,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"medium",children:[(0,i.jsx)(S.Z,{selected:W,order:n,orderBy:p,onSelectAllClick:null,onRequestSort:function(e,i){t(p===i&&"asc"===n?"desc":"asc"),D(i)},rowCount:V.length,headCells:M,headerBG:"#ecf0f2",txtColor:"#000000"}),(0,i.jsx)(g.Z,{children:H(V,B(n,p)).map((function(e,n){var t,r=Qe(e.id),o="enhanced-table-checkbox-".concat(n);return(0,i.jsxs)(m.Z,{hover:!0,onClick:function(n){return function(e,n){console.log("select => ",n),Qe(n.id)?G(null):C.Z.providerNumerosCount(n.id).then((function(e){console.log(e.data),Be(e.data),Ge(e.data*n.prixUnitaire),G(n)}),(function(e){return console.log(e)}))}(0,e)},role:"checkbox",tabIndex:-1,children:[(0,i.jsxs)(y.Z,{align:"right",children:[(t=e.dateCreation,new Date(t).getDate()+"/"+(new Date(t).getMonth()+1)+"/"+new Date(t).getFullYear())," "]}),(0,i.jsx)(y.Z,{align:"right",children:e.prixUnitaire}),(0,i.jsx)(y.Z,{align:"right",children:e.phone}),(0,i.jsx)(y.Z,{style:{fontSize:"22px",fontWeight:"normal"},align:"right",children:e.name}),(0,i.jsx)(y.Z,{padding:"checkbox",children:(0,i.jsx)(v.Z,{color:"primary",checked:r,inputProps:{"aria-labelledby":o}})})]},e.id)}))})]}):(0,i.jsx)("div",{style:{width:"100%",marginTop:"20px",display:"flex",justifyContent:"center"},children:(0,i.jsx)(a.Z,{style:{fontSize:"16px"},children:"\u0627\u0644\u0642\u0627\u0626\u0645\u0629 \u0641\u0627\u0631\u063a\u0629"})})})}),V.length>0&&(0,i.jsxs)("div",{style:{width:"100%",marginTop:"20px",display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)("div",{style:{width:"50%",display:"flex",alignItems:"center"},children:(0,i.jsxs)(a.Z,{style:{display:"flex",alignItems:"center",marginInline:"20px",fontWeight:"bold",color:"GrayText"},children:[Oe," :  \u0627\u0644\u0645\u062c\u0645\u0648\u0639"]})}),(0,i.jsxs)("div",{style:{width:"50%",display:"flex",alignItems:"center",justifyContent:"end"},children:[(0,i.jsxs)(a.Z,{style:{display:"flex",alignItems:"center",marginInline:"20px",fontWeight:"normal",color:"GrayText"},children:[je,"/",we]}),(0,i.jsx)(c.Z,{title:"\u0627\u0644\u0633\u0627\u0628\u0642",children:(0,i.jsx)(l.Z,{disabled:!fe,onClick:function(){me(je-1)},children:(0,i.jsx)(F.Z,{})})}),(0,i.jsxs)(N.Z,{id:"page-size-select",value:ve,onChange:function(e){Ze(e.target.value)},label:"pageSize",children:[(0,i.jsx)(u.Z,{value:ve,children:(0,i.jsx)("em",{children:ve})}),(0,i.jsx)(u.Z,{value:5,children:"5"}),(0,i.jsx)(u.Z,{value:10,children:"10"}),(0,i.jsx)(u.Z,{value:20,children:"20"})]}),(0,i.jsx)(c.Z,{title:"\u0627\u0644\u062a\u0627\u0644\u064a",children:(0,i.jsx)(l.Z,{disabled:!xe,onClick:function(){me(je+1)},children:(0,i.jsx)(_.Z,{})})})]})]})]})})}S.Z.propTypes={onRequestSort:p().func.isRequired,order:p().oneOf(["asc","desc"]).isRequired,orderBy:p().string.isRequired,rowCount:p().number.isRequired},w.Z.propTypes={}}},function(e){e.O(0,[290,193,372,476,483,774,888,179],(function(){return n=16895,e(e.s=n);var n}));var n=e.O();_N_E=n}]);